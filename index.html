<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linux System Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="translations.js"></script>
</head>
<body>
    <!-- Title Bar -->
    <div class="title-bar">
        <div class="title-bar-left">
            <img src="assets/icon.png" alt="Logo" class="logo">
            <span class="title">Linux System Dashboard</span>
        </div>
        <div class="title-bar-right">
            <button class="title-bar-btn" id="minimize-btn" title="Fenster minimieren">‚îÄ</button>
            <button class="title-bar-btn" id="tray-btn" title="In Systemleiste minimieren">‚¨á</button>
            <button class="title-bar-btn" id="maximize-btn" title="Fenster maximieren">‚ñ°</button>
            <button class="title-bar-btn close" id="close-btn" title="In Systemleiste minimieren">√ó</button>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-navigation">
                <div class="sidebar-item active" data-tab="system" data-tooltip="systemInfoTooltip">
                    <i class="icon">üìä</i>
                    <span data-translate="systemInfo">System-Info</span>
                </div>
                <div class="sidebar-item" data-tab="actions" data-tooltip="quickActionsTooltip">
                    <i class="icon">‚ö°</i>
                    <span data-translate="quickActions">Schnellaktionen</span>
                </div>
                <div class="sidebar-item" data-tab="learn" data-tooltip="learningAreaTooltip">
                    <i class="icon">üìö</i>
                    <span data-translate="learningArea">Lernbereich</span>
                </div>
                <div class="sidebar-item" data-tab="terminal" data-tooltip="terminalTooltip">
                    <i class="icon">üíª</i>
                    <span data-translate="terminal">Terminal</span>
                </div>
            </div>
            
            <!-- Language Switcher -->
            <div class="sidebar-bottom">
                <div class="language-switcher" id="language-switcher" title="Sprache wechseln / Switch Language">
                    <img src="assets/language-switcher.svg" alt="Language Switcher" class="language-icon">
                    <span class="language-label" id="current-language">DE</span>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- System Info Tab -->
            <div class="tab-content active" id="system-tab">
                <div class="tab-header">
                    <h2 data-translate="systemOverview">üìä System-√úbersicht</h2>
                    <div class="header-controls">
                        <select id="update-speed" class="speed-selector">
                            <option value="1000" data-translate="speedHigh">1s (Hoch)</option>
                            <option value="2000" data-translate="speedNormal">2s (Normal)</option>
                            <option value="3000" selected data-translate="speedRecommended">3s (Empfohlen)</option>
                            <option value="5000" data-translate="speedEconomical">5s (Sparsam)</option>
                            <option value="10000" data-translate="speedMinimal">10s (Minimal)</option>
                        </select>
                        <div class="refresh-btn" id="refresh-system" data-translate="refresh">üîÑ Aktualisieren</div>
                        <div class="export-btn" id="export-system-report" data-translate="export">üìä Export</div>
                    </div>
                </div>
                
                <!-- Quick Stats Overview -->
                <div class="quick-stats">
                    <div class="stat-item" data-tooltip="cpuTooltip">
                        <div class="stat-icon">üñ•Ô∏è</div>
                        <div class="stat-content">
                            <div class="stat-value" id="cpu-usage-quick">0%</div>
                            <div class="stat-label" data-translate="cpu">CPU</div>
                        </div>
                    </div>
                    <div class="stat-item" data-tooltip="ramTooltip">
                        <div class="stat-icon">üß†</div>
                        <div class="stat-content">
                            <div class="stat-value" id="ram-usage-quick">0%</div>
                            <div class="stat-label" data-translate="ram">RAM</div>
                        </div>
                    </div>
                    <div class="stat-item" data-tooltip="storageTooltip">
                        <div class="stat-icon">üíæ</div>
                        <div class="stat-content">
                            <div class="stat-value" id="disk-usage-quick">0%</div>
                            <div class="stat-label" data-translate="storage">Speicher</div>
                        </div>
                    </div>
                    <div class="stat-item" data-tooltip="uptimeTooltip">
                        <div class="stat-icon">‚è±Ô∏è</div>
                        <div class="stat-content">
                            <div class="stat-value" id="uptime-quick">0</div>
                            <div class="stat-label" data-translate="uptime">Laufzeit</div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced System Overview Grid -->
                <div class="system-overview">
                    <div class="overview-column">
                        <!-- CPU Card Enhanced -->
                        <div class="card cpu-card">
                            <h3 data-translate="cpuInformation">üñ•Ô∏è Prozessor</h3>
                            <div class="cpu-info-grid">
                                <div class="cpu-main-info">
                                    <div class="metric">
                                        <div class="metric-value" id="cpu-usage">0%</div>
                                        <div class="metric-label" data-translate="cpuUsage">Aktuelle Auslastung</div>
                                    </div>
                                    <div class="cpu-chart-container">
                                        <canvas id="cpu-chart" width="150" height="80"></canvas>
                                    </div>
                                </div>
                                <div class="metric-details">
                                    <div class="info-row">
                                        <span class="info-label" data-translate="brand">Modell</span>
                                        <span id="cpu-model">-</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label" data-translate="cores">Kerne</span>
                                        <span id="cpu-cores">-</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label" data-translate="baseSpeed">Taktfrequenz</span>
                                        <span id="cpu-speed">-</span>
                                    </div>
                                </div>
                                <div class="cpu-cores-container">
                                    <h4 data-translate="cpuCoresDetail">CPU-Kerne im Detail:</h4>
                                    <div class="cpu-cores-grid" id="cpu-cores-grid">
                                        <!-- Individual CPU cores will be populated here -->
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- System Info Enhanced -->
                        <div class="card system-card">
                            <h3 data-translate="systemInformation">‚ÑπÔ∏è System-Information</h3>
                            <div class="system-info">
                                <div class="info-row">
                                    <span class="info-label" data-translate="operatingSystem">Betriebssystem</span>
                                    <span id="os-distro">-</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label" data-translate="kernel">Version</span>
                                    <span id="os-release">-</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label" data-translate="hostname">Hostname</span>
                                    <span id="os-hostname">-</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label" data-translate="runtime">Laufzeit</span>
                                    <span id="system-uptime">-</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">Kernel</span>
                                    <span id="system-kernel">-</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">Architektur</span>
                                    <span id="system-arch">-</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="overview-column">
                        <!-- Memory Card Enhanced -->
                        <div class="card memory-card">
                            <h3 data-translate="memoryInformation">üß† Arbeitsspeicher</h3>
                            <div class="memory-info-grid">
                                <div class="memory-stats">
                                    <div class="metric">
                                        <div class="metric-value" id="ram-usage">0%</div>
                                        <div class="metric-label">Speicher-Auslastung</div>
                                    </div>
                                    <div class="memory-bar">
                                        <div class="memory-bar-fill" id="memory-bar-fill" style="width: 0%"></div>
                                    </div>
                                    <div class="metric-details">
                                        <div class="info-row">
                                            <span class="info-label">Gesamt</span>
                                            <span id="ram-total">-</span>
                                        </div>
                                        <div class="info-row">
                                            <span class="info-label">Verwendet</span>
                                            <span id="ram-used">-</span>
                                        </div>
                                        <div class="info-row">
                                            <span class="info-label">Verf√ºgbar</span>
                                            <span id="ram-free">-</span>
                                        </div>
                                        <div class="info-row">
                                            <span class="info-label">Puffer/Cache</span>
                                            <span id="ram-cached">-</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="memory-chart-container">
                                    <canvas id="ram-chart" width="150" height="80"></canvas>
                                </div>
                            </div>
                        </div>

                        <!-- Storage Card Enhanced -->
                        <div class="card storage-card">
                            <h3 data-translate="storageDevices">üíæ Speicher-Ger√§te</h3>
                            <div id="disk-list">
                                <!-- Disk entries will be populated here -->
                            </div>
                        </div>

                        <!-- Temperature & Sensors Card -->
                        <div class="card temperature-card">
                            <h4 data-translate="temperatureAndSensors">üå°Ô∏è Temperatur & Sensoren</h4>
                            <div class="temperature-grid" id="temperature-grid">
                                <div class="temp-item">
                                    <div class="temp-icon">üñ•Ô∏è</div>
                                    <div class="temp-info">
                                        <div class="temp-label">CPU</div>
                                        <div class="temp-value" id="cpu-temp">-¬∞C</div>
                                    </div>
                                </div>
                                <div class="temp-item">
                                    <div class="temp-icon">üíæ</div>
                                    <div class="temp-info">
                                        <div class="temp-label">Speicher</div>
                                        <div class="temp-value" id="storage-temp">-¬∞C</div>
                                    </div>
                                </div>
                                <div class="temp-item">
                                    <div class="temp-icon">üåê</div>
                                    <div class="temp-info">
                                        <div class="temp-label">System</div>
                                        <div class="temp-value" id="system-temp">-¬∞C</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Processes -->
                <div class="card full-width">
                    <h3 data-translate="runningProcesses">üîÑ Laufende Prozesse</h3>
                    <div class="process-list" id="process-list">
                        <!-- Process entries will be populated here -->
                    </div>
                </div>

                <!-- Network -->
                <div class="card full-width">
                    <h3 data-translate="networkInformation">üåê Netzwerk</h3>
                    <div class="network-info" id="network-info">
                        <!-- Network info will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Quick Actions Tab -->
            <div class="tab-content" id="actions-tab">
                <div class="tab-header">
                    <h2 data-translate="quickActionsTitle">‚ö° Schnellaktionen</h2>
                </div>
                
                <div class="dashboard-grid">
                    <!-- System Updates -->
                    <div class="card">
                        <h3 data-translate="systemUpdates">üîÑ System-Updates</h3>
                        <div class="update-status">
                            <div class="update-count" id="update-count">0 <span data-translate="updatesAvailable">Updates verf√ºgbar</span></div>
                            <button class="btn primary" id="check-updates" data-tooltip="checkUpdatesTooltip" data-translate="checkUpdates">Updates pr√ºfen</button>
                            <button class="btn secondary" id="install-updates" data-tooltip="installUpdatesTooltip" data-translate="installUpdates">Updates installieren</button>
                        </div>
                        <div class="update-list" id="update-list">
                            <!-- Update list will be populated here -->
                        </div>
                    </div>

                    <!-- Software Installation -->
                    <div class="card">
                        <h3 data-translate="softwareInstall">üì¶ Software installieren</h3>
                        <div class="package-search">
                            <div class="search-input-container">
                                <input type="text" id="package-search" data-tooltip="packageSearchTooltip" placeholder="Software suchen (z.B. Chrome, Brave, Firefox)...">
                                <button class="btn secondary" id="search-packages" data-tooltip="searchPackagesTooltip" data-translate="searchPackages">Suchen</button>
                            </div>
                            <div class="package-suggestions" id="package-suggestions" style="display: none;">
                                <!-- Suggestions will be populated here -->
                            </div>
                        </div>
                        <div class="install-status" id="install-status"></div>
                    </div>

                    <!-- Services -->
                    <div class="card">
                        <h3 data-translate="systemServices">üîß Dienste</h3>
                        <div class="services-list" id="services-list">
                            <!-- Services will be populated here -->
                        </div>
                    </div>

                    <!-- Firewall -->
                    <div class="card">
                        <h3 data-translate="firewall">üõ°Ô∏è Firewall</h3>
                        <div class="firewall-status">
                            <div class="status-indicator" id="firewall-status" data-translate="firewallStatus">Unbekannt</div>
                            <button class="btn secondary" id="toggle-firewall" data-tooltip="toggleFirewallTooltip" data-translate="toggleFirewall">Firewall umschalten</button>
                        </div>
                    </div>
                </div>

                <!-- Quick Tools -->
                <div class="card full-width">
                    <h3 data-translate="quickTools">üõ†Ô∏è Schnellzugriff</h3>
                    <div class="quick-tools">
                        <button class="tool-btn" data-command="gnome-terminal" data-translate="openTerminal">Terminal √∂ffnen</button>
                        <button class="tool-btn" data-command="nautilus" data-translate="openFileManager">Dateimanager √∂ffnen</button>
                        <button class="tool-btn" data-command="gnome-system-monitor" data-translate="openSystemMonitor">System-Monitor √∂ffnen</button>
                        <button class="tool-btn" data-command="gnome-software" data-translate="openSoftwareCenter">Software-Center √∂ffnen</button>
                    </div>
                </div>

                <!-- Security Features Section -->
                <div class="card full-width">
                    <h3 data-translate="securityCenter">üîí Sicherheits-Center</h3>
                    <div class="dashboard-grid">
                        <!-- Security Overview -->
                        <div class="card security-overview">
                            <h4 data-translate="securityStatus">üìä Sicherheits-Status</h4>
                            <div class="security-metrics">
                                <div class="security-metric">
                                    <div class="metric-icon">üîê</div>
                                    <div class="metric-info">
                                        <div class="metric-title" data-translate="sshStatus">SSH-Status</div>
                                        <div class="metric-value" id="ssh-status" data-translate="checking">Pr√ºfe...</div>
                                    </div>
                                </div>
                                <div class="security-metric">
                                    <div class="metric-icon">üö´</div>
                                    <div class="metric-info">
                                        <div class="metric-title" data-translate="fail2banStatus">Fail2Ban</div>
                                        <div class="metric-value" id="fail2ban-status" data-translate="checking">Pr√ºfe...</div>
                                    </div>
                                </div>
                                <div class="security-metric">
                                    <div class="metric-icon">üîç</div>
                                    <div class="metric-info">
                                        <div class="metric-title" data-translate="openPorts">Offene Ports</div>
                                        <div class="metric-value" id="open-ports" data-translate="scanning">Scanne...</div>
                                    </div>
                                </div>
                            </div>
                            <button class="btn primary" id="security-scan" data-tooltip="securityScanTooltip" data-translate="startSecurityScan">Sicherheitsscan starten</button>
                        </div>

                        <!-- Security Actions -->
                        <div class="card security-actions">
                            <h4 data-translate="securityActionsForBeginners">‚ö° Sicherheits-Aktionen f√ºr Einsteiger</h4>
                            <div class="security-action-cards">
                                <div class="security-action-card" data-action="check-updates-security">
                                    <div class="action-icon safety">üîÑ</div>
                                    <div class="action-content">
                                        <div class="action-title" data-translate="checkSecurityUpdates">Sicherheitsupdates pr√ºfen</div>
                                        <div class="action-description" data-translate="checkSecurityUpdatesDesc">√úberpr√ºft verf√ºgbare Sicherheits-Patches</div>
                                        <div class="action-level beginner" data-translate="easy">Einfach</div>
                                    </div>
                                    <div class="action-status" id="security-updates-status" data-translate="notChecked">Nicht gepr√ºft</div>
                                </div>
                                
                                <div class="security-action-card" data-action="audit-packages">
                                    <div class="action-icon intermediate">üì¶</div>
                                    <div class="action-content">
                                        <div class="action-title" data-translate="checkPackageSecurity">Paket-Sicherheit pr√ºfen</div>
                                        <div class="action-description" data-translate="checkPackageSecurityDesc">Scannt installierte Programme auf Schwachstellen</div>
                                        <div class="action-level intermediate" data-translate="medium">Mittel</div>
                                    </div>
                                    <div class="action-status" id="package-audit-status" data-translate="notChecked">Nicht gepr√ºft</div>
                                </div>
                                
                                <div class="security-action-card" data-action="check-rootkits">
                                    <div class="action-icon advanced">üïµÔ∏è</div>
                                    <div class="action-content">
                                        <div class="action-title" data-translate="malwareScan">Schadprogramm-Scan</div>
                                        <div class="action-description" data-translate="malwareScanDesc">Sucht nach Rootkits und Malware</div>
                                        <div class="action-level advanced" data-translate="advanced">Erweitert</div>
                                    </div>
                                    <div class="action-status" id="rootkit-status" data-translate="notChecked">Nicht gepr√ºft</div>
                                </div>
                                
                                <div class="security-action-card" data-action="network-scan">
                                    <div class="action-icon intermediate">üåê</div>
                                    <div class="action-content">
                                        <div class="action-title" data-translate="networkSecurity">Netzwerk-Sicherheit</div>
                                        <div class="action-description" data-translate="networkSecurityDesc">Analysiert offene Verbindungen und Ports</div>
                                        <div class="action-level intermediate" data-translate="medium">Mittel</div>
                                    </div>
                                    <div class="action-status" id="network-scan-status" data-translate="notChecked">Nicht gepr√ºft</div>
                                </div>
                            </div>
                            
                            <!-- Quick Action Buttons -->
                            <div class="security-quick-actions">
                                <button class="btn primary security-all-btn" id="run-all-security-checks" data-translate="runAllSecurityChecks">
                                    üõ°Ô∏è Alle Sicherheitschecks ausf√ºhren
                                </button>
                                <div class="security-progress" id="security-progress" style="display: none;">
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="security-progress-fill"></div>
                                    </div>
                                    <div class="progress-text" id="security-progress-text">Starte Sicherheitschecks...</div>
                                </div>
                            </div>
                            
                            <!-- Security Summary Results -->
                            <div class="security-summary" id="security-summary" style="display: none;">
                                <div class="summary-header">
                                    <h4 data-translate="securityEvaluation">üìä Sicherheits-Auswertung</h4>
                                    <div class="summary-score" id="security-score">0/100</div>
                                </div>
                                <div class="summary-content" id="summary-content">
                                    <!-- Results will be populated here -->
                                </div>
                                <div class="summary-recommendations" id="summary-recommendations">
                                    <!-- Recommendations will be populated here -->
                                </div>
                            </div>
                        </div>

                        <!-- Recent Security Events -->
                        <div class="card security-logs">
                            <h4 data-translate="securityEvents">üìã Sicherheits-Ereignisse</h4>
                            <div class="security-events" id="security-events">
                                <div class="loading-message">Lade Sicherheitsereignisse...</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Learning Tab -->
            <div class="tab-content" id="learn-tab">
                <div class="tab-header">
                    <h2 data-translate="learningAreaTitle">üìö Lernbereich</h2>
                </div>
                
                <div class="dashboard-grid">
                    <!-- Command of the Day -->
                    <div class="card">
                        <h3 data-translate="commandOfTheDay">üí° Befehl des Tages</h3>
                        <div class="command-of-day">
                            <div class="command" id="todays-command">ls -la</div>
                            <div class="command-explanation" id="command-explanation">
                                Listet alle Dateien und Verzeichnisse mit Details auf
                            </div>
                            <button class="btn secondary" id="try-command" data-translate="tryCommand">Befehl ausprobieren</button>
                        </div>
                    </div>

                    <!-- Common Problems -->
                    <div class="card">
                        <h3 data-translate="commonProblems">üîß H√§ufige Probleme</h3>
                        <div class="problems-list">
                            <div class="problem-item">
                                <h4 data-translate="systemSlow">System wird langsam</h4>
                                <p data-translate="systemSlowDesc">√úberpr√ºfen Sie die CPU- und RAM-Auslastung</p>
                                <button class="btn small" data-translate="showSolution">L√∂sung anzeigen</button>
                            </div>
                            <div class="problem-item">
                                <h4 data-translate="networkNotWorking">Netzwerk funktioniert nicht</h4>
                                <p data-translate="networkNotWorkingDesc">√úberpr√ºfen Sie die Netzwerkverbindung</p>
                                <button class="btn small" data-translate="showSolution">L√∂sung anzeigen</button>
                            </div>
                            <div class="problem-item">
                                <h4 data-translate="updatesFailed">Updates fehlgeschlagen</h4>
                                <p data-translate="updatesFailedDesc">√úberpr√ºfen Sie die Internetverbindung</p>
                                <button class="btn small" data-translate="showSolution">L√∂sung anzeigen</button>
                            </div>
                        </div>
                    </div>

                    <!-- Tutorials -->
                    <div class="card">
                        <h3 data-translate="tutorialsAndLinks">üìñ Tutorials & Links</h3>
                        <div class="tutorials-list">
                            <a href="https://wiki.archlinux.org/" target="_blank" class="tutorial-link">
                                <span data-translate="archWiki">üìö Arch Linux Wiki</span>
                            </a>
                            <a href="https://www.linux.org/" target="_blank" class="tutorial-link">
                                <span data-translate="linuxTutorials">üêß Linux.org Tutorials</span>
                            </a>
                            <a href="https://www.gnu.org/software/bash/manual/" target="_blank" class="tutorial-link">
                                <span data-translate="bashManual">üíª Bash Handbuch</span>
                            </a>
                            <a href="https://www.ssh.com/ssh/" target="_blank" class="tutorial-link">
                                <span data-translate="sshTutorial">üîê SSH Tutorial</span>
                            </a>
                        </div>
                    </div>

                    <!-- Tips -->
                    <div class="card">
                        <h3 data-translate="beginnerTips">üí° Tipps f√ºr Einsteiger</h3>
                        <div class="tips-list">
                            <div class="tip" data-translate="openTerminal">
                                <strong>Terminal √∂ffnen:</strong> Strg+Alt+T
                            </div>
                            <div class="tip" data-translate="openFileManager">
                                <strong>Dateimanager:</strong> Super+E
                            </div>
                            <div class="tip" data-translate="openApplications">
                                <strong>Anwendungen:</strong> Super+A
                            </div>
                            <div class="tip" data-translate="regularUpdates">
                                <strong>System-Updates:</strong> Regelm√§√üig ausf√ºhren
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Terminal Tab -->
            <div class="tab-content" id="terminal-tab">
                <div class="tab-header">
                    <h2 data-translate="terminalTitle">üíª Terminal-Simulator</h2>
                    <div class="terminal-controls">
                        <button class="btn small" id="clear-terminal" data-tooltip="clearTerminalTooltip">üóëÔ∏è <span data-translate="clearTerminal">Terminal leeren</span></button>
                        <button class="btn small" id="new-terminal" data-tooltip="newTerminalTooltip" data-translate="newTerminal">Neues Terminal</button>
                    </div>
                </div>
                
                <div class="terminal-container">
                    <div class="terminal-header">
                        <span class="terminal-title">Terminal</span>
                        <div class="terminal-buttons">
                            <span class="terminal-btn minimize">‚îÄ</span>
                            <span class="terminal-btn maximize">‚ñ°</span>
                            <span class="terminal-btn close">√ó</span>
                        </div>
                    </div>
                    <div class="terminal-body" id="terminal-output">
                        <div class="terminal-line">
                            <span class="prompt">user@archlinux:~$</span>
                            <span class="command" contenteditable="true" id="terminal-input"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>
</html>
